(globalThis["webpackChunktelos_web_wallet"]=globalThis["webpackChunktelos_web_wallet"]||[]).push([[304],{62304:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>F});var i=e(59835),l=e(86970),s=e(1614),c=e.n(s),o=e(25126),n=e.n(o),I=e(58981),d=e.n(I),u=e(67013),r=e.n(u);const M=t=>((0,i.dD)("data-v-24e31fb6"),t=t(),(0,i.Cn)(),t),g={class:"pageContainer row justify-center"},D={class:"text-center"},m={class:"row flex-center relative q-mt-xl"},p={class:"userAvatar"},y=["src"],h={class:"profileInformation"},x=M((()=>(0,i._)("div",{avatar:""},[(0,i._)("img",{class:"profileInformationIcons",src:c()})],-1))),A=M((()=>(0,i._)("div",{avatar:""},[(0,i._)("img",{class:"profileInformationIcons",src:n()})],-1))),b=M((()=>(0,i._)("div",{avatar:""},[(0,i._)("img",{class:"profileInformationIcons",src:d()})],-1))),N=M((()=>(0,i._)("div",{avatar:""},[(0,i._)("img",{class:"profileInformationIcons",src:r()})],-1))),w={class:"q-mx-auto text-h5"},S={class:"q-mx-auto text-center"},v={class:"text-h6"},j={key:0,class:"justify-center absolute flex full-width full-height spinner"};function T(t,a,e,s,c,o){const n=(0,i.up)("q-icon"),I=(0,i.up)("q-btn"),d=(0,i.up)("q-item"),u=(0,i.up)("q-input"),r=(0,i.up)("q-list"),M=(0,i.up)("q-card-section"),T=(0,i.up)("q-card-actions"),z=(0,i.up)("q-card"),f=(0,i.up)("q-dialog"),Z=(0,i.up)("q-spinner-dots"),E=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)("div",g,[(0,i._)("div",D,[(0,i.Wm)(r,{round:"",flat:"",dense:"",class:"text-white",icon:"west"},{default:(0,i.w5)((()=>[(0,i._)("div",m,[(0,i._)("div",p,[(0,i._)("img",{src:o.userAvatar},null,8,y)]),(0,i.Wm)(d,{class:"justify-center uploadImage"},{default:(0,i.w5)((()=>[(0,i.Wm)(I,{style:(0,l.j5)("height: 2.5rem; width: 2.5rem; border-radius: 10rem; border: 0.010rem solid white;"),onClick:o.onPickFile},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{name:"add_a_photo",color:"white"})])),_:1},8,["style","onClick"]),(0,i._)("input",{ref:"fileInput",type:"file",accept:"image/*",class:"file-input",onChange:a[0]||(a[0]=(...t)=>o.onFilePicked&&o.onFilePicked(...t))},null,544)])),_:1})]),(0,i._)("div",h,[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[x,(0,i.Wm)(u,{modelValue:c.avatar,"onUpdate:modelValue":a[1]||(a[1]=t=>c.avatar=t),dense:"",standout:"bg-transparent text-white","label-color":"white",color:"white","input-class":"text-white",class:"round-sm full-width",label:"Avatar URL"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[A,(0,i.Wm)(u,{modelValue:c.display_name,"onUpdate:modelValue":a[2]||(a[2]=t=>c.display_name=t),dense:"",standout:"bg-transparent text-white","label-color":"white",color:"white","input-class":"text-white",class:"round-sm full-width",label:"Name",rules:[a=>!!a||t.$t("forms.errors.required")],"hide-bottom-space":""},null,8,["modelValue","rules"])])),_:1}),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[b,(0,i.Wm)(u,{modelValue:c.status,"onUpdate:modelValue":a[3]||(a[3]=t=>c.status=t),dense:"",standout:"bg-transparent text-white","label-color":"white",color:"white","input-class":"text-white",class:"round-sm full-width",label:t.$t("settings.status")},null,8,["modelValue","label"])])),_:1}),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[N,(0,i.Wm)(u,{modelValue:c.bio,"onUpdate:modelValue":a[4]||(a[4]=t=>c.bio=t),dense:"",standout:"bg-transparent text-white","label-color":"white",color:"white","input-class":"text-white",class:"round-sm full-width",label:t.$t("settings.bio")},null,8,["modelValue","label"])])),_:1})]),(0,i.Wm)(d,{class:"row q-gutter-x-sm"},{default:(0,i.w5)((()=>[(0,i.Wm)(I,{class:"settingBtn col",rounded:"",label:t.$t("settings.save"),disable:0===c.display_name.length,onClick:o.save},null,8,["label","disable","onClick"])])),_:1})])),_:1}),(0,i.Wm)(f,{modelValue:c.confirm,"onUpdate:modelValue":a[6]||(a[6]=t=>c.confirm=t),persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(z,{class:"popupCard"},{default:(0,i.w5)((()=>[(0,i.Wm)(M,{class:"row items-center"},{default:(0,i.w5)((()=>[(0,i._)("span",w,(0,l.zw)(t.$t("settings.warning")),1),(0,i._)("span",S,(0,l.zw)(t.$t("settings.warning_msg")),1)])),_:1}),(0,i.Wm)(T,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(I,{flat:"",label:"Cancel",color:"white"},null,512),[[E]]),(0,i.Wm)(I,{flat:"",label:"Yes, I'm sure",color:"white",onClick:a[5]||(a[5]=t=>{c.confirm=!1,c.keyView=!0})})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(f,{modelValue:c.keyView,"onUpdate:modelValue":a[8]||(a[8]=t=>c.keyView=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(z,{class:"popupCard"},{default:(0,i.w5)((()=>[(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[(0,i._)("div",v,(0,l.zw)(t.$t("settings.private_key")),1)])),_:1}),(0,i.Wm)(M,{class:"q-pt-none text-center private-key"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(c.privateKey)+" ",1),(0,i.Wm)(I,{flat:"",dense:"",size:"sm",icon:"far fa-copy",onClick:a[7]||(a[7]=t=>o.copyToClipboard(c.privateKey))})])),_:1}),(0,i.Wm)(T,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(I,{flat:"",label:"Close",color:"white"},null,512),[[E]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),c.saving?((0,i.wg)(),(0,i.iD)("div",j,[(0,i.Wm)(Z,{class:"q-my-auto",color:"primary",size:"40px"})])):(0,i.kq)("",!0)])])}e(69665);var z=e(33100);const f={data(){return{accountHasProfile:!1,image:null,avatar:"",display_name:"",status:"",bio:"",is_verified:0,saving:!1,account:null,privateKey:null,checkInterval:null,clearInterval:null,connected:!1,confirm:!1,keyView:!1}},computed:{...(0,z.Se)("account",["isAuthenticated","accountName"]),...(0,z.Se)("global",["footerHeight"]),availableHeight(){return window.innerHeight-(this.isAuthenticated?this.footerHeight:0)},userAvatar(){return this.avatar?this.avatar:"/profile/default_avatar.svg"}},methods:{...(0,z.nv)("account",["accountExists","getUserProfile","logout"]),upload(t,a){var e=new FormData;e.append("image",t);var i=new XMLHttpRequest;i.open("POST","https://api.imgur.com/3/image"),i.setRequestHeader("Authorization","Client-ID b3386c312851443"),i.onload=function(){a.avatar=JSON.parse(i.responseText).data.link},i.send(e).then()},onPickFile(){this.$refs.fileInput.click()},onFilePicked(t){const a=t.target.files;a[0].name;new FileReader;this.upload(a[0],this)},async loadUserProfile(){await this.getUserProfile(this.accountName);const t=this.$store.state.account.profiles[this.accountName];t&&(this.accountHasProfile=!0,this.avatar=t.avatar,this.bio=t.bio,this.status=t.status,this.display_name=t.display_name,this.is_verified=t.is_verified)},async save(){const t=this.$store.state.account.profiles[this.accountName],a=[];if(t?(t.avatar!==this.avatar&&a.push({account:"profiles",name:"editavatar",data:{account:this.accountName,new_avatar:this.avatar}}),t.display_name!==this.display_name&&a.push({account:"profiles",name:"editdisplay",data:{account:this.accountName,new_display_name:this.display_name}}),t.bio!==this.bio&&a.push({account:"profiles",name:"editbio",data:{account:this.accountName,new_bio:this.bio}}),t.status!==this.status&&a.push({account:"profiles",name:"editstatus",data:{account:this.accountName,new_status:this.status}})):a.push({account:"profiles",name:"newprofile",data:{account:this.accountName,display_name:this.display_name,avatar:this.avatar,bio:this.bio,status:this.status}}),a.length>0){this.saving=!0;try{await this.$store.$api.signTransaction(a,`${t?this.$t("settings.update_profile"):this.$t("settings.create_profile")}`);this.$successNotification(`${t?this.$t("settings.update_profile_ok"):this.$t("settings.create_profile_ok")}`)}catch(e){this.$errorNotification(e)}}this.saving=!1},copyToClipboard(t){var a=document.createElement("textarea");a.value=t,a.setAttribute("readonly",""),a.style={display:"none"},document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),this.$successNotification(this.$t("settings.copied_ok"))}},created:async function(){await this.loadUserProfile()},async mounted(){await this.loadUserProfile(),this.checkInterval=setInterval((async()=>{this.account=this.$store.$account.account,this.privateKey=this.$store.$account.privateKey}),50)},async beforeUnmount(){this.checkInterval&&clearInterval(this.checkInterval),this.clearInterval&&clearInterval(this.clearInterval)},watch:{async accountName(){await this.loadUserProfile()}}};var Z=e(11639),E=e(13246),W=e(61357),k=e(490),U=e(68879),_=e(22857),H=e(66611),C=e(87743),L=e(44458),P=e(63190),O=e(11821),Q=e(47501),R=e(62146),G=e(69984),V=e.n(G);const J=(0,Z.Z)(f,[["render",T],["__scopeId","data-v-24e31fb6"]]),F=J;V()(f,"components",{QList:E.Z,QAvatar:W.Z,QItem:k.Z,QBtn:U.Z,QIcon:_.Z,QInput:H.Z,QDialog:C.Z,QCard:L.Z,QCardSection:P.Z,QCardActions:O.Z,QSpinnerDots:Q.Z}),V()(f,"directives",{ClosePopup:R.Z})},1614:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDE2QzkuNzkxIDE2IDggMTQuMjA5IDggMTJWMTBDOCA3Ljc5MSA5Ljc5MSA2IDEyIDZDMTQuMjA5IDYgMTYgNy43OTEgMTYgMTBWMTJDMTYgMTQuMjA5IDE0LjIwOSAxNiAxMiAxNloiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiLz4KPHBhdGggZD0iTTE4LjEwMTkgMjEuMTU0QzE3LjAwMTkgMTkuODYgMTUuMzMxOSAxOSAxMy40OTk5IDE5SDEwLjQ5OTlDOC42NTI5IDE5IDcuMDAwOSAxOS44MzUgNS44OTk5IDIxLjE0NyIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIvPgo8cGF0aCBkPSJNMTIgMjNDMTguMDc1MSAyMyAyMyAxOC4wNzUxIDIzIDEyQzIzIDUuOTI0ODcgMTguMDc1MSAxIDEyIDFDNS45MjQ4NyAxIDEgNS45MjQ4NyAxIDEyQzEgMTguMDc1MSA1LjkyNDg3IDIzIDEyIDIzWiIgc3Ryb2tlPSIjMzFDMUVFIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+Cjwvc3ZnPgo="},67013:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkgMTFDNi43OTEgMTEgNSA5LjIwOSA1IDdWNUM1IDIuNzkxIDYuNzkxIDEgOSAxQzExLjIwOSAxIDEzIDIuNzkxIDEzIDVWN0MxMyA5LjIwOSAxMS4yMDkgMTEgOSAxMVoiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiLz4KPHBhdGggZD0iTTE3IDIzSDFWMTguODg2QzEgMTcuNjM5IDEuNzY1IDE2LjUyMyAyLjkzMSAxNi4wODFDNC4zMTggMTUuNTU1IDYuMzk5IDE1IDkgMTVDMTEuNjAxIDE1IDEzLjY4MiAxNS41NTUgMTUuMDY5IDE2LjA4MUMxNi4yMzUgMTYuNTIyIDE3IDE3LjYzOSAxNyAxOC44ODZWMjNaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+CjxwYXRoIGQ9Ik0xNyA0SDIzIiBzdHJva2U9IiMzMUMxRUUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiLz4KPHBhdGggZD0iTTE3IDlIMjMiIHN0cm9rZT0iIzMxQzFFRSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPgo8cGF0aCBkPSJNMjAgMTRIMjMiIHN0cm9rZT0iIzMxQzFFRSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPgo8L3N2Zz4K"},25126:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyMCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEzIDE1SDdDMy42ODYgMTUgMSAxNy42ODYgMSAyMVYyMkMxIDIyIDQuMTI1IDIzIDEwIDIzQzE1Ljg3NSAyMyAxOSAyMiAxOSAyMlYyMUMxOSAxNy42ODYgMTYuMzE0IDE1IDEzIDE1WiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPgo8cGF0aCBkPSJNNSA2QzUgMy4yMzkgNy4yMzkgMSAxMCAxQzEyLjc2MSAxIDE1IDMuMjM5IDE1IDZDMTUgOC43NjEgMTIuNzYxIDEyIDEwIDEyQzcuMjM5IDEyIDUgOC43NjEgNSA2WiIgc3Ryb2tlPSIjMzFDMUVFIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+Cjwvc3ZnPgo="},58981:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAyMiAyMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE3IDlDMTkuMjA5MSA5IDIxIDcuMjA5MTQgMjEgNUMyMSAyLjc5MDg2IDE5LjIwOTEgMSAxNyAxQzE0Ljc5MDkgMSAxMyAyLjc5MDg2IDEzIDVDMTMgNy4yMDkxNCAxNC43OTA5IDkgMTcgOVoiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiLz4KPHBhdGggZD0iTTUgOUM3LjIwOTE0IDkgOSA3LjIwOTE0IDkgNUM5IDIuNzkwODYgNy4yMDkxNCAxIDUgMUMyLjc5MDg2IDEgMSAyLjc5MDg2IDEgNUMxIDcuMjA5MTQgMi43OTA4NiA5IDUgOVoiIHN0cm9rZT0iIzMxQzFFRSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPgo8cGF0aCBkPSJNMTcgMjFDMTkuMjA5MSAyMSAyMSAxOS4yMDkxIDIxIDE3QzIxIDE0Ljc5MDkgMTkuMjA5MSAxMyAxNyAxM0MxNC43OTA5IDEzIDEzIDE0Ljc5MDkgMTMgMTdDMTMgMTkuMjA5MSAxNC43OTA5IDIxIDE3IDIxWiIgc3Ryb2tlPSIjMzFDMUVFIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+CjxwYXRoIGQ9Ik01IDIxQzcuMjA5MTQgMjEgOSAxOS4yMDkxIDkgMTdDOSAxNC43OTA5IDcuMjA5MTQgMTMgNSAxM0MyLjc5MDg2IDEzIDEgMTQuNzkwOSAxIDE3QzEgMTkuMjA5MSAyLjc5MDg2IDIxIDUgMjFaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+Cjwvc3ZnPgo="}}]);