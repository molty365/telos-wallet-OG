"use strict";(globalThis["webpackChunktelos_web_wallet"]=globalThis["webpackChunktelos_web_wallet"]||[]).push([[623],{27623:(t,e,s)=>{s.r(e),s.d(e,{default:()=>jt});s(69665);var a=s(59835),o=s(86970),c=s(97589),i=s.n(c),n=s(83632),r=s.n(n),l=s(5422),u=s.n(l);const d=t=>((0,a.dD)("data-v-70634c40"),t=t(),(0,a.Cn)(),t),h=d((()=>(0,a._)("div",{class:"videoWrapper"},[(0,a._)("video",{id:"bgvid",playsinline:"",autoplay:"",muted:"",loop:"",poster:i()},[(0,a._)("source",{src:r(),type:"video/webm"}),(0,a._)("source",{src:u(),type:"video/mp4"})])],-1))),g=d((()=>(0,a._)("div",{class:"videoOverlay"},null,-1))),p=d((()=>(0,a._)("div",{class:"videoOverlay shadedOverlay"},null,-1))),m={key:0},w=["src"];function _(t,e,s,c,i,n){const r=(0,a.up)("LoginButtons"),l=(0,a.up)("NavBar"),u=(0,a.up)("q-icon"),d=(0,a.up)("q-banner"),_=(0,a.up)("q-avatar"),v=(0,a.up)("router-view"),f=(0,a.up)("q-page-container"),b=(0,a.up)("q-layout");return(0,a.wg)(),(0,a.j4)(b,{view:"hHh Lpr fFf",class:"c-native-layout"},{default:(0,a.w5)((()=>[n.isUserAuthenticated?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(r,{key:0,class:"login-button",chain:"zero"})),h,g,p,n.isUserAuthenticated?((0,a.wg)(),(0,a.j4)(l,{key:1,balanceTab:i.balanceTab,"onUpdate:balanceTab":e[0]||(e[0]=t=>i.balanceTab=t),onLogOut:n.performLogOut},null,8,["balanceTab","onLogOut"])):(0,a.kq)("",!0),(0,a.Wm)(f,{class:(0,o.C_)("pageContainer "+(n.isUserAuthenticated?"authenticated":""))},{default:(0,a.w5)((()=>[i.warningShow?((0,a.wg)(),(0,a.iD)("div",m,[(0,a.Wm)(d,{"inline-actions":"",dark:"",class:"warningSign text-white"},{action:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"fas fa-times-circle",class:"warning-icon",color:"text-white",onClick:e[1]||(e[1]=t=>i.warningShow=!1)})])),default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(i.warningText)+" ",1)])),_:1})])):(0,a.kq)("",!0),"/zero/balance"===t.$route.path?((0,a.wg)(),(0,a.j4)(_,{key:1,class:"profileImg",onClick:e[2]||(e[2]=e=>t.$router.push("/zero/profile"))},{default:(0,a.w5)((()=>[(0,a._)("img",{src:n.userAvatar},null,8,w)])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(v,{loadedCoins:i.coins,"onUpdate:loadedCoins":e[3]||(e[3]=t=>i.coins=t),loadedNftTokens:i.nftTokens,"onUpdate:loadedNftTokens":e[4]||(e[4]=t=>i.nftTokens=t),balanceTab:i.balanceTab,"onUpdate:balanceTab":e[5]||(e[5]=t=>i.balanceTab=t)},null,8,["loadedCoins","loadedNftTokens","balanceTab"])])),_:1},8,["class"])])),_:1})}s(46727);var v=s(33100);const f=t=>((0,a.dD)("data-v-4be53340"),t=t(),(0,a.Cn)(),t),b={class:"leftNavBar"},k=f((()=>(0,a._)("img",{src:"/branding/telos-wallet-light.svg",class:"telosLogo"},null,-1))),T=["src"],y=["src"],D=["src"],C=["src"],R=["src"],z=["src"],N=["src"],$={class:"bottomNavBar"},U=["src"],S=["src"],x=["src"],A=["src"],I=["src"],P=["src"],q=["src"];function M(t,e,s,c,i,n){const r=(0,a.up)("RexStaking"),l=(0,a.up)("ManageResources");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("nav",b,[k,(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",{onClick:e[0]||(e[0]=t=>n.switchTab("coins"))},[(0,a._)("img",{src:n.srcWallet},null,8,T),(0,a.Uk)((0,o.zw)(t.$t("navbar.wallet")),1)])]),(0,a._)("li",null,[(0,a._)("a",{onClick:e[1]||(e[1]=t=>n.switchTab("earn"))},[(0,a._)("img",{src:n.srcEarn},null,8,y),(0,a.Uk)((0,o.zw)(t.$t("navbar.staking")),1)])]),(0,a._)("li",null,[(0,a._)("a",{onClick:e[2]||(e[2]=t=>n.switchTab("resources"))},[(0,a._)("img",{src:n.srcResources},null,8,D),(0,a.Uk)((0,o.zw)(t.$t("navbar.resources")),1)])]),(0,a._)("li",null,[(0,a._)("a",{onClick:e[3]||(e[3]=t=>n.switchTab("nft"))},[(0,a._)("img",{src:n.srcNft},null,8,C),(0,a.Uk)((0,o.zw)(t.$t("navbar.nfts")),1)])]),(0,a._)("li",null,[(0,a._)("a",{onClick:e[4]||(e[4]=t=>n.switchTab("dapps"))},[(0,a._)("img",{src:n.srcDapps},null,8,R),(0,a.Uk)((0,o.zw)(t.$t("navbar.dapps")),1)])]),(0,a._)("li",null,[(0,a._)("a",{onClick:e[5]||(e[5]=t=>n.switchTab("profile"))},[(0,a._)("img",{src:n.srcProfile},null,8,z),(0,a.Uk)((0,o.zw)(t.$t("navbar.profile")),1)])]),(0,a._)("li",null,[(0,a._)("a",{onClick:e[6]||(e[6]=e=>t.$emit("log-out"))},[(0,a._)("img",{src:n.srcLogout},null,8,N),(0,a.Uk)((0,o.zw)(t.$t("navbar.logout")),1)])])])]),(0,a._)("nav",$,[(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",{onClick:e[7]||(e[7]=t=>n.switchTab("coins"))},[(0,a._)("img",{src:n.srcWallet},null,8,U)])]),(0,a._)("li",null,[(0,a._)("a",{onClick:e[8]||(e[8]=t=>n.switchTab("earn"))},[(0,a._)("img",{class:"tab-icon",src:n.srcEarn},null,8,S)])]),(0,a._)("li",null,[(0,a._)("a",{onClick:e[9]||(e[9]=t=>n.switchTab("resources"))},[(0,a._)("img",{class:"tab-icon",src:n.srcResources},null,8,x)])]),(0,a._)("li",null,[(0,a._)("a",{onClick:e[10]||(e[10]=t=>n.switchTab("nft"))},[(0,a._)("img",{class:"tab-icon",src:n.srcNft},null,8,A)])]),(0,a._)("li",null,[(0,a._)("a",{onClick:e[11]||(e[11]=t=>n.switchTab("dapps"))},[(0,a._)("img",{src:n.srcDapps},null,8,I)])]),(0,a._)("li",null,[(0,a._)("a",{onClick:e[12]||(e[12]=t=>n.switchTab("profile"))},[(0,a._)("img",{src:n.srcProfile},null,8,P)])]),(0,a._)("li",null,[(0,a._)("a",{onClick:e[13]||(e[13]=e=>t.$emit("log-out"))},[(0,a._)("img",{src:n.srcLogout},null,8,q)])])])]),(0,a.Wm)(r,{showRexStakeDlg:i.showRexStakeDlg,"onUpdate:showRexStakeDlg":e[14]||(e[14]=t=>i.showRexStakeDlg=t)},null,8,["showRexStakeDlg"]),(0,a.Wm)(l,{showManageResourcesDlg:i.showManageResourcesDlg,"onUpdate:showManageResourcesDlg":e[15]||(e[15]=t=>i.showManageResourcesDlg=t)},null,8,["showManageResourcesDlg"])])}var L=s(8863);const E=t=>((0,a.dD)("data-v-9c88b5e0"),t=t(),(0,a.Cn)(),t),W={class:"popupCard"},Z={class:"exitBtn"},B={class:"popupHeading"},O=E((()=>(0,a._)("div",null,null,-1))),F={class:"text-h5 text-weight-medium text-center q-mt-lg"},H=E((()=>(0,a._)("div",null,null,-1))),Q={class:"text-center"},j={class:"text-subtitle2 text-grey-4 text-center q-mb-sm"},V={class:"fit row wrap justify-center items-start content-center"},G={class:"col"},J={class:"fit column wrap justify-center items-center content-center"},K={key:0},X={class:"col"},Y={key:1},tt=E((()=>(0,a._)("div",null,"CPU",-1))),et={class:"q-mt-sm"},st={class:"q-mt-sm"},at={class:"col"},ot={class:"fit column wrap justify-center items-center content-center"},ct={key:0},it={class:"col"},nt={key:1},rt=E((()=>(0,a._)("div",null,"NET",-1))),lt={class:"q-mt-sm"},ut={class:"q-mt-sm"},dt={class:"col"},ht={class:"fit column wrap justify-center items-center content-center"},gt={class:"col"},pt=E((()=>(0,a._)("div",null,"RAM",-1))),mt={class:"q-mt-sm"},wt={class:"q-mt-sm q-gutter-y-md fit column wrap justify-center items-center content-center"};function _t(t,e,s,c,i,n){const r=(0,a.up)("q-btn"),l=(0,a.up)("q-circular-progress"),u=(0,a.up)("q-select"),d=(0,a.up)("q-input"),h=(0,a.up)("q-dialog"),g=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(h,{modelValue:n.showDlg,"onUpdate:modelValue":e[3]||(e[3]=t=>n.showDlg=t),"full-height":!1,"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,a.w5)((()=>[(0,a._)("div",W,[(0,a._)("div",Z,[(0,a.wy)((0,a.Wm)(r,{round:"",flat:"",dense:"",class:"text-grey-6",icon:"close"},null,512),[[g]])]),(0,a._)("div",B,[O,(0,a._)("div",F,(0,o.zw)(t.$t("resources.title")),1),H]),(0,a._)("div",Q,[(0,a._)("div",j,(0,o.zw)(t.$t("resources.intro")),1),(0,a._)("div",V,[(0,a._)("div",G,[(0,a._)("div",J,[(0,a.Wm)(l,{"show-value":"","font-size":"12px",value:n.usedCPU/n.totalCPU*100,size:"70px",thickness:.3,color:"grey","track-color":"grey-3",class:"q-ma-md"},{default:(0,a.w5)((()=>[n.usedCPU/n.totalCPU*100>1?((0,a.wg)(),(0,a.iD)("div",K,[(0,a._)("div",X,[(0,a._)("div",null,(0,o.zw)((n.usedCPU/n.totalCPU*100).toFixed(0))+"%",1),(0,a._)("div",null,(0,o.zw)(t.$t("resources.used")),1)])])):((0,a.wg)(),(0,a.iD)("div",Y,[(0,a.Uk)(" < 1% "),(0,a._)("div",null,(0,o.zw)(t.$t("resources.used")),1)]))])),_:1},8,["value","thickness"]),tt,(0,a._)("div",et,(0,o.zw)(n.formatSec(n.usedCPU))+" / "+(0,o.zw)(n.formatSec(n.totalCPU)),1),(0,a._)("div",st,(0,o.zw)(t.$t("resources.total_staked"))+":",1),(0,a._)("div",null,(0,o.zw)(n.stakedTotalCPU),1)])]),(0,a._)("div",at,[(0,a._)("div",ot,[(0,a.Wm)(l,{"show-value":"","font-size":"12px",value:n.usedNET/n.totalNET*100,size:"70px",thickness:.3,color:"teal","track-color":"grey-3",class:"q-ma-md"},{default:(0,a.w5)((()=>[n.usedNET/n.totalNET*100>1?((0,a.wg)(),(0,a.iD)("div",ct,[(0,a._)("div",it,[(0,a._)("div",null,(0,o.zw)((n.usedNET/n.totalNET*100).toFixed(0))+"%",1),(0,a._)("div",null,(0,o.zw)(t.$t("resources.used")),1)])])):((0,a.wg)(),(0,a.iD)("div",nt,[(0,a.Uk)(" < 1% "),(0,a._)("div",null,(0,o.zw)(t.$t("resources.used")),1)]))])),_:1},8,["value","thickness"]),rt,(0,a._)("div",lt,(0,o.zw)(n.formatBytes(n.usedNET))+" / "+(0,o.zw)(n.formatBytes(n.totalNET)),1),(0,a._)("div",ut,(0,o.zw)(t.$t("resources.total_staked"))+":",1),(0,a._)("div",null,(0,o.zw)(n.stakedTotalNET),1)])]),(0,a._)("div",dt,[(0,a._)("div",ht,[(0,a.Wm)(l,{"show-value":"","font-size":"12px",value:n.usedRAM/n.totalRAM*100,size:"70px",thickness:.3,color:"purple","track-color":"grey-3",class:"q-ma-md"},{default:(0,a.w5)((()=>[(0,a._)("div",gt,[(0,a._)("div",null,(0,o.zw)((n.usedRAM/n.totalRAM*100).toFixed(0))+"%",1),(0,a._)("div",null,(0,o.zw)(t.$t("resources.used")),1)])])),_:1},8,["value","thickness"]),pt,(0,a._)("div",mt,(0,o.zw)(n.formatBytes(n.usedRAM))+" / "+(0,o.zw)(n.formatBytes(n.totalRAM)),1)])])]),(0,a._)("div",wt,[(0,a.Wm)(u,{modelValue:i.selectedResource,"onUpdate:modelValue":e[0]||(e[0]=t=>i.selectedResource=t),dark:"","options-dark":"",options:i.resourceOptions,class:"resource-input"},null,8,["modelValue","options"]),(0,a.Wm)(d,{modelValue:i.amount,"onUpdate:modelValue":e[1]||(e[1]=t=>i.amount=t),dark:"","darklabel-color":"white",color:"white","input-style":"color: white","input-class":"text-white",label:"Amount in TLOS",class:"resource-input"},null,8,["modelValue"]),(0,a.Wm)(r,{rounded:"",class:"purpleGradient buy-button",size:"lg",label:"RAM"===i.selectedResource?t.$t("resources.buy"):t.$t("resources.add"),onClick:e[2]||(e[2]=t=>n.buyResources())},null,8,["label"])])])])])),_:1},8,["modelValue"])}var vt=s(30321);const{capitalize:ft,humanStorageSize:bt}=vt.ZP,kt={props:["showManageResourcesDlg"],data(){return{amount:"",selectedResource:"RAM",resourceOptions:["RAM","CPU","NET"],accountInfo:void 0}},computed:{...(0,v.Se)("account",["isAuthenticated","accountName"]),showDlg:{get(){return this.showManageResourcesDlg},set(t){this.$emit("update:showManageResourcesDlg",t)}},totalRAM(){return this.accountInfo?this.accountInfo.ram_quota:0},availRAM(){return this.accountInfo?this.accountInfo.ram_quota-this.accountInfo.ram_usage:0},usedRAM(){return this.accountInfo?this.accountInfo.ram_usage:0},totalCPU(){return this.accountInfo?this.accountInfo.cpu_limit.max:0},availCPU(){return this.accountInfo?this.accountInfo.cpu_limit.available:0},usedCPU(){return this.accountInfo?this.accountInfo?.cpu_limit?.used:0},stakedTotalCPU(){return this.accountInfo?this.accountInfo.total_resources.cpu_weight:"0 TLOS"},totalNET(){return this.accountInfo?this.accountInfo.net_limit.max:0},availNET(){return this.accountInfo?this.accountInfo.net_limit.available:0},usedNET(){return this.accountInfo?this.accountInfo.net_limit.used:0},stakedTotalNET(){return this.accountInfo?this.accountInfo.total_resources.net_weight:"0 TLOS"}},methods:{async buyResources(){let t=[];if("RAM"===this.selectedResource&&t.push({account:"eosio",name:"buyram",data:{payer:this.accountName.toLowerCase(),receiver:this.accountName.toLowerCase(),quant:String(parseFloat(this.amount).toFixed(4))+String(" TLOS")}}),"CPU"===this.selectedResource||"NET"===this.selectedResource){let e="NET"===this.selectedResource?this.amount:0,s="CPU"===this.selectedResource?this.amount:0;t.push({account:"eosio",name:"delegatebw",data:{from:this.accountName.toLowerCase(),receiver:this.accountName.toLowerCase(),stake_net_quantity:String(parseFloat(e).toFixed(4))+String(" TLOS"),stake_cpu_quantity:String(parseFloat(s).toFixed(4))+String(" TLOS"),transfer:!1}})}try{await this.$store.$api.signTransaction(t,this.$t("resources.buying_resources"));this.$successNotification(this.$t("resources.resources_bought")),this.accountInfo=await this.$store.$api.getAccount(this.accountName.toLowerCase()),this.$emitter.emit("resources_bought")}catch(e){this.$errorNotification(e)}},formatSec(t){if(void 0!==t)return t>1e3&&t<1e6?`${(t/1e3).toFixed(2)}ms`:t>1e6?`${(t/1e6).toFixed(2)}s`:t},formatBytes(t){return bt(t)}},watch:{async accountName(t){this.isAuthenticated&&(this.accountInfo=await this.$store.$api.getAccount(this.accountName))}},async mounted(){this.isAuthenticated&&(this.accountInfo=await this.$store.$api.getAccount(this.accountName))}};var Tt=s(11639),yt=s(87743),Dt=s(68879),Ct=s(83302),Rt=s(4581),zt=s(66611),Nt=s(62146),$t=s(69984),Ut=s.n($t);const St=(0,Tt.Z)(kt,[["render",_t],["__scopeId","data-v-9c88b5e0"]]),xt=St;Ut()(kt,"components",{QDialog:yt.Z,QBtn:Dt.Z,QCircularProgress:Ct.Z,QSelect:Rt.Z,QInput:zt.Z}),Ut()(kt,"directives",{ClosePopup:Nt.Z});const At={props:["balanceTab"],components:{RexStaking:L.Z,ManageResources:xt},data(){return{srcDir:"/nav/",selectedTab:"coins",showRexStakeDlg:!1,showManageResourcesDlg:!1}},computed:{...(0,v.Se)("account",["isAuthenticated"]),srcWallet(){return"coins"===this.selectedTab?this.srcDir+"wallet_selected.svg":this.srcDir+"wallet.svg"},srcDapps(){return"dapps"===this.selectedTab?this.srcDir+"dapps_selected.svg":this.srcDir+"dapps.svg"},srcCoins(){return"coins"===this.selectedTab?this.srcDir+"coins_selected.svg":this.srcDir+"coins.svg"},srcNft(){return"nft"===this.selectedTab?this.srcDir+"nft_selected.svg":this.srcDir+"nft.svg"},srcSettings(){return"settings"===this.selectedTab?this.srcDir+"settings_selected.svg":this.srcDir+"settings.svg"},srcEarn(){return"earn"===this.selectedTab&&!1===this.showRexStakeDlg?(this.switchTab("coins"),this.srcDir+"earn.svg"):"earn"===this.selectedTab?this.srcDir+"earn_selected.svg":this.srcDir+"earn.svg"},srcResources(){return"resources"===this.selectedTab&&!1===this.showManageResourcesDlg?(this.switchTab("coins"),this.srcDir+"settings.svg"):"resources"===this.selectedTab?this.srcDir+"settings_selected.svg":this.srcDir+"settings.svg"},srcProfile(){return"profile"===this.selectedTab?(this.switchTab("profile"),this.srcDir+"profile_selected.svg"):this.srcDir+"profile.svg"},srcLogout(){return this.srcDir+"resources.svg"}},methods:{switchTab(t){switch(this.selectedTab=t,t){case"coins":this.$router.push("/zero/balance",(()=>{})),this.$emit("update:balanceTab","coins");break;case"dapps":this.$router.push("/zero/dappsearch",(()=>{}));break;case"nft":this.$router.push("/zero/balance",(()=>{})),this.$emit("update:balanceTab","collectables");break;case"profile":this.$router.push("/zero/profile",(()=>{}));break;case"earn":this.showRexStakeDlg=!0;break;case"resources":this.showManageResourcesDlg=!0;break;default:break}}},watch:{balanceTab(t){"coins"===t?this.switchTab(t):this.switchTab("nft")}}},It=(0,Tt.Z)(At,[["render",M],["__scopeId","data-v-4be53340"]]),Pt=It;var qt=s(82107),Mt=s(84193),Lt=s(43681);const Et=[{title:"Balance",caption:"Balance",icon:"fas fa-wallet",path:"/zero/balance",available:!0},{title:"DappSearch",caption:"DappSearch",icon:"fas fa-th-large",path:"/zero/dappsearch",available:!0},{title:"Settings",caption:"Settings",icon:"fas fa-cog",path:"/zero/settings",available:!0}],Wt={name:"NativeLayout",components:{NavBar:Pt,LoginButtons:qt.Z},data(){return{avatar:null,bio:null,displayName:null,status:null,profileAccountName:null,accountHasProfile:!1,accountHistory:[{}],balanceTab:"coins",pages:Et,coins:[],nftTokens:[],warningShow:!1,warningText:"",ant:(0,Mt.getAntelope)()}},computed:{...(0,v.Se)("account",["isAuthenticated","accountName"]),isUserAuthenticated(){return this.isAuthenticated},...(0,v.Se)("global",["footerHeight"]),containerHeight(){return window.innerHeight},userAvatar(){return this.avatar?this.avatar:"/profile/default_avatar.svg"}},methods:{...(0,v.nv)("account",["logout","memoryAutoLogin","getUserProfile"]),checkPath(){this.isUserAuthenticated?"/"===this.$route.path&&(window.location="/zero/balance"):["/","/zero/dappsearch"].includes(this.$route.path)||(window.location="/")},async loadUserProfile(){this.loadAccountHistory(),this.$store.state.account.profiles.hasOwnProperty(this.accountName)||await this.getUserProfile(this.accountName);const t=this.$store.state.account.profiles[this.accountName];t&&(this.accountHasProfile=!0,this.profileAccountName=this.accountName,this.avatar=t.avatar,this.bio=t.bio,this.status=t.status,this.displayName=t.display_name)},search(){this.loadUserProfile()},async loadAccountHistory(){const t=await(0,Lt.getHyperion)().get(`/v2/history/get_actions?limit=20&account=${this.accountName}`);this.accountHistory=t.data.actions||[]},performLogOut(){this.resetTokens(),this.logout(!0)},resetTokens(){this.coins=[],this.nftTokens=[]}},async mounted(){this.isUserAuthenticated||await this.memoryAutoLogin(),this.loadUserProfile()}};var Zt=s(20249),Bt=s(12133),Ot=s(47128),Ft=s(22857),Ht=s(61357);const Qt=(0,Tt.Z)(Wt,[["render",_],["__scopeId","data-v-70634c40"]]),jt=Qt;Ut()(Wt,"components",{QLayout:Zt.Z,QPageContainer:Bt.Z,QBanner:Ot.Z,QIcon:Ft.Z,QAvatar:Ht.Z})}}]);