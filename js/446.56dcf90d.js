"use strict";(globalThis["webpackChunktelos_web_wallet"]=globalThis["webpackChunktelos_web_wallet"]||[]).push([[446],{12446:(e,a,l)=>{l.r(a),l.d(a,{default:()=>_e});var t=l(59835),o=l(24352),n=l(86970),r=l(60499),s=l(27712),c=l(84746),u=l(84193),i=l(79428),m=l(77155),d=l(43446),p=l(13031);const _={class:"c-wrap-header"},w={class:"text-center"},b={class:"u-text--high-contrast"},v={class:"u-text--low-contrast q-mb-xl"},y={class:"o-text--small-bold"},S={key:0,class:"o-text--small"},g=(0,t.aZ)({__name:"WrapPageHeader",setup(e){const{t:a}=(0,s.QT)(),l=(0,u.useUserStore)(),o=(0,u.useBalancesStore)(),g=(0,u.useChainStore)(),U=g.loggedChain.settings,k=(0,r.iH)(0),f=(0,r.iH)(!0),F=(0,t.Fl)((()=>l.fiatLocale)),h=(0,t.Fl)((()=>l.fiatCurrency)),T=(0,t.Fl)((()=>{if(f.value)return"--";const e=+V.value,a=e*k.value;return(0,i.kg)(a,2,F.value,!1,h.value,!1)})),x=(0,t.Fl)((()=>U.getSystemToken().name)),C=(0,t.Fl)((()=>U.getSystemToken().symbol)),W=(0,t.Fl)((()=>U.getWrappedSystemToken().symbol)),Z=(0,t.Fl)((()=>o.loggedBalances)),q=(0,t.Fl)((()=>Z.value.find((e=>e.token.contract===m.L4))?.balance)),E=(0,t.Fl)((()=>Z.value.find((e=>e.token.contract===U.getWrappedSystemToken().address))?.balance)),V=(0,t.Fl)((()=>{if(!q.value||!E.value)return"0";const e=q.value.add(E.value);return(0,d.rE)(e,d.Rs)})),B=(0,t.Fl)((()=>{const e=U.getSystemToken().symbol,a=U.getWrappedSystemToken().symbol;return`${e} + ${a}`})),H=(0,t.Fl)((()=>(0,i.kg)(+(0,d.rE)(q.value??c.O$.from(0),d.Rs)*k.value,2,F.value,!1,h.value,!1))),$=(0,t.Fl)((()=>(0,i.kg)(+(0,d.rE)(E.value??c.O$.from(0),d.Rs)*k.value,2,F.value,!1,h.value,!1))),R=(0,t.Fl)((()=>(0,i.kg)(+k.value,2,F.value,!1,h.value,!1))),A=(0,t.Fl)((()=>[{label:a("evm_wrap.wrapped_card_label",{symbol:C.value}),tooltip:a("evm_wrap.wrapped_card_tooltip",{wrappedSymbol:W.value,systemSymbol:C.value}),primaryText:$.value,secondaryText:N(E.value,!0),lowContrastSecondaryText:!0},{label:C.value,tooltip:a("evm_wrap.unwrapped_card_tooltip",{wrappedSymbol:W.value,systemSymbol:C.value}),primaryText:H.value,secondaryText:N(q.value,!1),lowContrastSecondaryText:!0}]));function N(e,a){return(0,i.kg)(e??c.O$.from(0),4,F.value,!1,a?W.value:C.value,!1,d.Rs)}return(0,t.wF)((()=>{U.getUsdPrice().then((e=>{k.value=e})).finally((()=>{f.value=!1}))})),(e,l)=>((0,t.wg)(),(0,t.iD)("div",_,[(0,t._)("div",w,[(0,t._)("h5",null,(0,n.zw)((0,r.SU)(a)("evm_wrap.total_of_wrapped_and_unwrapped",{token:(0,r.SU)(x)})),1),(0,t._)("h1",b,(0,n.zw)((0,r.SU)(T)),1),(0,t._)("p",v,[(0,t._)("span",y,(0,n.zw)((0,r.SU)(V))+" "+(0,n.zw)((0,r.SU)(B)),1),(0,r.SU)(R)?((0,t.wg)(),(0,t.iD)("span",S," @ "+(0,n.zw)((0,r.SU)(R)),1)):(0,t.kq)("",!0)])]),(0,t.Wm)(p.Z,{cards:(0,r.SU)(A)},null,8,["cards"])]))}}),U=g,k=U;var f=l(68113),F=l.n(f),h=l(39447),T=l(18395),x=l(67061),C=l(92338),W=l(17779);const Z={class:"row q-mb-xl"},q={class:"col-12"},E={class:"c-wrap-tab__badge-container"},V={class:"row q-mb-lg"},B={class:"col-12"},H={class:"row q-mb-sm"},$={class:"col-12 text-center"},R=["alt"],A={class:"row q-mb-lg"},N={class:"col-12"},O={class:"row"},Y={class:"col-12"},L={class:"c-wrap-tab__cta-container"},z=(0,t.aZ)({__name:"WrapTab",setup(e){const{t:a}=(0,s.QT)(),l=(0,u.getAntelope)(),o=(0,u.useChainStore)().currentChain.settings,n=(0,u.useUserStore)(),i=(0,u.useBalancesStore)(),m=((0,u.useAccountStore)(),o.getSystemToken()),p=m.symbol,_=m.decimals,w=2,b=o.getWrappedSystemToken().symbol,v=c.O$.from("1".concat("0".repeat(_))),y=(0,r.iH)(h._Y),S=(0,r.iH)(h._Y),g=(0,t.Fl)((()=>n.fiatLocale)),U=(0,t.Fl)((()=>n.fiatCurrency)),k=(0,t.Fl)((()=>i.currentBalances.filter((e=>e.token.contract===m.address))[0])),f=(0,t.Fl)((()=>k.value?.token.price.getAmountInFiatStr(1)??"1")),z=(0,t.Fl)((()=>k.value?.amount??h._Y)),Q=(0,t.Fl)((()=>{const e=a("evm_wrap.wrap_sidebar_title",{symbol:p}),l=[{text:a("evm_wrap.wrap_sidebar_content_fragment_1",{systemSymbol:p,wrappedSymbol:b})},{text:a("evm_wrap.wrap_sidebar_content_fragment_bold"),bold:!0},{text:a("evm_wrap.wrap_sidebar_content_fragment_3",{systemSymbol:p,wrappedSymbol:b})}];return{header:e,content:l}})),j=(0,t.Fl)((()=>{const e=z.value.sub(S.value);return e.lt(0)?h._Y:e})),P=(0,t.Fl)((()=>!y.value.isZero()&&y.value.lt(j.value))),D=(0,t.Fl)((()=>l.stores.feedback.isLoading("wrapSystemTokens")));async function G(){const e=u.CURRENT_CONTEXT;if(await(0,u.useAccountStore)().assertNetworkConnection(e)&&P.value)try{const e=await(0,u.useBalancesStore)().wrapSystemTokens(y.value),t=(0,d.rE)(y.value,_,d.Rs),n=l.config.notifyNeutralMessageHandler(a("notification.neutral_message_wrapping",{quantity:t,symbol:p}));e.wait().then((()=>{l.config.notifySuccessfulTrxHandler(`${o.getExplorerUrl()}/tx/${e.hash}`)})).catch((e=>{W.error(e)})).finally((()=>{n()}))}catch(t){W.error(t)}}return(0,t.wF)((()=>{const e=55500;o.getEstimatedGas(e).then((e=>{S.value=e.system}))})),(e,l)=>{const o=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.j4)(T.Z,{"sidebar-content":(0,r.SU)(Q)},{default:(0,t.w5)((()=>[(0,t._)("div",Z,[(0,t._)("div",q,[(0,t._)("div",E,[(0,t.Wm)(x.Z,{"token-one-symbol":(0,r.SU)(b),"token-two-symbol":(0,r.SU)(p),"token-two-decimals":(0,r.SU)(_),"token-two-amount":(0,r.SU)(v),decimals:0},null,8,["token-one-symbol","token-two-symbol","token-two-decimals","token-two-amount"])])])]),(0,t._)("div",V,[(0,t._)("div",B,[(0,t.Wm)(C.Z,{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=e=>y.value=e),symbol:(0,r.SU)(p),decimals:(0,r.SU)(_),"decimals-to-display":w,"secondary-currency-code":(0,r.SU)(U),"secondary-currency-decimals":2,"secondary-currency-conversion-factor":(0,r.SU)(f),locale:(0,r.SU)(g),label:(0,r.SU)(a)("evm_wrap.wrap_input_label"),"max-value":(0,r.SU)(j),class:"c-wrap-tab__input",name:"wrap-tab-currency-input-1"},null,8,["modelValue","symbol","decimals","secondary-currency-code","secondary-currency-conversion-factor","locale","label","max-value"])])]),(0,t._)("div",H,[(0,t._)("div",$,[(0,t._)("img",{src:F(),alt:(0,r.SU)(a)("global.arrow_icon_alt"),height:"20",width:"18"},null,8,R)])]),(0,t._)("div",A,[(0,t._)("div",N,[(0,t.Wm)(C.Z,{modelValue:y.value,"onUpdate:modelValue":l[1]||(l[1]=e=>y.value=e),symbol:(0,r.SU)(b),decimals:(0,r.SU)(_),locale:(0,r.SU)(g),label:(0,r.SU)(a)("evm_wrap.wrap_input_label"),class:"c-wrap-tab__input",readonly:"readonly",name:"wrap-tab-currency-input-2"},null,8,["modelValue","symbol","decimals","locale","label"])])]),(0,t._)("div",O,[(0,t._)("div",Y,[(0,t._)("div",L,[(0,t.Wm)(o,{color:"primary",disable:!(0,r.SU)(P),loading:(0,r.SU)(D),label:(0,r.SU)(a)("evm_wrap.wrap"),"aria-label":(0,r.SU)(a)("evm_wrap.wrap_button_label",{systemSymbol:(0,r.SU)(p),wrappedSymbol:(0,r.SU)(b)}),onClick:G},null,8,["disable","loading","label","aria-label"])])])])])),_:1},8,["sidebar-content"])}}});var Q=l(68879),j=l(69984),P=l.n(j);const D=z,G=D;P()(z,"components",{QBtn:Q.Z});var I=l(17779);const M={class:"row q-mb-xl"},X={class:"col-12"},J={class:"c-unwrap-tab__badge-container"},K={class:"row q-mb-lg"},ee={class:"col-12"},ae={class:"row q-mb-sm"},le={class:"col-12 text-center"},te=["alt"],oe={class:"row q-mb-lg"},ne={class:"col-12"},re={class:"row"},se={class:"col-12"},ce={class:"c-unwrap-tab__cta-container"},ue=(0,t.aZ)({__name:"UnwrapTab",setup(e){const{t:a}=(0,s.QT)(),l=(0,u.getAntelope)(),o=(0,u.useChainStore)().currentChain.settings,n=(0,u.useUserStore)(),i=(0,u.useBalancesStore)(),m=((0,u.useAccountStore)(),o.getSystemToken()),p=m.symbol,_=m.decimals,w=2,b=o.getWrappedSystemToken().symbol,v=c.O$.from("1".concat("0".repeat(_))),y=(0,r.iH)(h._Y),S=(0,r.iH)(h._Y),g=(0,t.Fl)((()=>n.fiatLocale)),U=(0,t.Fl)((()=>n.fiatCurrency)),k=(0,t.Fl)((()=>i.currentBalances.filter((e=>e.token.contract===m.address))[0])),f=(0,t.Fl)((()=>k.value?.token.price.getAmountInFiatStr(1)??"1")),W=(0,t.Fl)((()=>{const e=a("evm_wrap.unwrap_sidebar_title",{symbol:p}),l=[{text:a("evm_wrap.unwrap_sidebar",{wrappedSymbol:b,systemSymbol:p})}];return{header:e,content:l}})),Z=(0,t.Fl)((()=>i.currentBalances.filter((e=>e.token.contract===o.getWrappedSystemToken().address))[0])),q=(0,t.Fl)((()=>Z.value?.amount??h._Y)),E=(0,t.Fl)((()=>q.value)),V=(0,t.Fl)((()=>!y.value.isZero()&&y.value.lte(E.value))),B=(0,t.Fl)((()=>l.stores.feedback.isLoading("unwrapSystemTokens")));async function H(){const e=u.CURRENT_CONTEXT;if(await(0,u.useAccountStore)().assertNetworkConnection(e)&&V.value)try{const e=await(0,u.useBalancesStore)().unwrapSystemTokens(y.value),t=(0,d.rE)(y.value,_,d.Rs),n=l.config.notifyNeutralMessageHandler(a("notification.neutral_message_unwrapping",{quantity:t,symbol:b}));e.wait().then((()=>{l.config.notifySuccessfulTrxHandler(`${o.getExplorerUrl()}/tx/${e.hash}`)})).catch((e=>{I.error(e)})).finally((()=>{n()}))}catch(t){I.error(t)}}return(0,t.wF)((()=>{const e=55500;o.getEstimatedGas(e).then((e=>{S.value=e.system}))})),(e,l)=>{const o=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.j4)(T.Z,{"sidebar-content":(0,r.SU)(W)},{default:(0,t.w5)((()=>[(0,t._)("div",M,[(0,t._)("div",X,[(0,t._)("div",J,[(0,t.Wm)(x.Z,{"token-one-symbol":(0,r.SU)(b),"token-two-symbol":(0,r.SU)(p),"token-two-decimals":(0,r.SU)(_),"token-two-amount":(0,r.SU)(v),decimals:0},null,8,["token-one-symbol","token-two-symbol","token-two-decimals","token-two-amount"])])])]),(0,t._)("div",K,[(0,t._)("div",ee,[(0,t.Wm)(C.Z,{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=e=>y.value=e),symbol:(0,r.SU)(b),decimals:(0,r.SU)(_),"decimals-to-display":w,"secondary-currency-code":(0,r.SU)(U),"secondary-currency-decimals":2,"secondary-currency-conversion-factor":(0,r.SU)(f),locale:(0,r.SU)(g),label:(0,r.SU)(a)("evm_wrap.unwrap_input_label"),"max-value":(0,r.SU)(E),class:"c-unwrap-tab__input",name:"unwrap-tab-currency-input-1"},null,8,["modelValue","symbol","decimals","secondary-currency-code","secondary-currency-conversion-factor","locale","label","max-value"])])]),(0,t._)("div",ae,[(0,t._)("div",le,[(0,t._)("img",{src:F(),alt:(0,r.SU)(a)("global.arrow_icon_alt"),height:"20",width:"18"},null,8,te)])]),(0,t._)("div",oe,[(0,t._)("div",ne,[(0,t.Wm)(C.Z,{modelValue:y.value,"onUpdate:modelValue":l[1]||(l[1]=e=>y.value=e),symbol:(0,r.SU)(p),decimals:(0,r.SU)(_),locale:(0,r.SU)(g),label:(0,r.SU)(a)("evm_wrap.unwrap_input_label"),class:"c-unwrap-tab__input",readonly:"readonly",name:"unwrap-tab-currency-input-2"},null,8,["modelValue","symbol","decimals","locale","label"])])]),(0,t._)("div",re,[(0,t._)("div",se,[(0,t._)("div",ce,[(0,t.Wm)(o,{color:"primary",disable:(0,r.SU)(E).isZero()||!(0,r.SU)(V),loading:(0,r.SU)(B),label:(0,r.SU)(a)("evm_wrap.unwrap"),"aria-label":(0,r.SU)(a)("evm_wrap.unwrap_button_label",{wrappedSymbol:(0,r.SU)(b),systemSymbol:(0,r.SU)(p)}),onClick:H},null,8,["disable","loading","label","aria-label"])])])])])),_:1},8,["sidebar-content"])}}}),ie=ue,me=ie;P()(ue,"components",{QBtn:Q.Z});const de=(0,t.aZ)({__name:"WrapPage",setup(e){const a=["wrap","unwrap"];return(e,l)=>((0,t.wg)(),(0,t.j4)(o.Z,{tabs:a},{header:(0,t.w5)((()=>[(0,t.Wm)(k)])),wrap:(0,t.w5)((()=>[(0,t.Wm)(G)])),unwrap:(0,t.w5)((()=>[(0,t.Wm)(me)])),_:1}))}}),pe=de,_e=pe}}]);